protocolName: hotstuff
protocolConnectorPath: ./connectors/hotstuff.js
plots:
  throughputDemo:
    type: tps
    details:
      title: 'Throughput comparison of Shadow-HotStuff with increasing number of replicas'
      xAxisTitle: 'Number of Replicas'
      yAxisTitle: 'Throughput (ops/s)'
    shadowPlot:
      style:
        label: 'Shadow'
        pointStyle: triangle
        pointBorderColor: '#c45850'
        borderColor: '#c45850'
  latencyDemo:
    type: latency
    details:
      title: 'Latency comparison of Shadow-HotStuff with increasing number of replicas'
      xAxisTitle: 'Number of Replicas'
      yAxisTitle: 'Latency (s)'
    shadowPlot:
      style:
        label: 'Shadow'
        pointStyle: triangle
        pointBorderColor: '#c45850'
        borderColor: '#c45850'
  cpuDemo-shadow:
    type: cpu-shadow
    details:
      title: 'Median CPU Usage of Shadow-HotStuff Shadow Process (8 vCPU)'
      xAxisTitle: 'Number of Replicas'
      yAxisTitle: 'Percentage * vCPU'
    shadowPlot:
      style:
        label: 'CPU Usage'
        pointStyle: triangle
        pointBorderColor: '#c45850'
        borderColor: '#c45850'
  memDemo-shadow:
    type: mem-shadow
    details:
      title: 'Maximum Memory Usage of Shadow-HotStuff Shadow Process'
      xAxisTitle: 'Number of Replicas'
      yAxisTitle: 'Memory Usage (GB)'
    shadowPlot:
      style:
        label: 'Memory usage'
        pointStyle: triangle
        pointBorderColor: '#c45850'
        borderColor: '#c45850'
  cpuDemo-app:
    type: cpu-app
    details:
      title: 'Median CPU Usage of Shadow-HotStuff Replica Processes (8 vCPU)'
      xAxisTitle: 'Number of Replicas'
      yAxisTitle: 'Percentage * vCPU'
    shadowPlot:
      style:
        label: 'CPU Usage'
        pointStyle: triangle
        pointBorderColor: '#c45850'
        borderColor: '#c45850'
  memDemo-app:
    type: mem-app
    details:
      title: 'Maximum Memory Usage of Shadow-HotStuff Replica Processes'
      xAxisTitle: 'Number of Replicas'
      yAxisTitle: 'Memory Usage (GB)'
    shadowPlot:
      style:
        label: 'Memory usage'
        pointStyle: triangle
        pointBorderColor: '#c45850'
        borderColor: '#c45850'
  memDemo-host:
    type: mem-host
    details:
      title: 'Maximum Memory Usage of Host'
      xAxisTitle: 'Number of Replicas'
      yAxisTitle: 'Memory Usage (GB)'
    shadowPlot:
      style:
        label: 'Memory usage'
        pointStyle: triangle
        pointBorderColor: '#c45850'
        borderColor: '#c45850'
  elapsedDemo:
    type: elapsed
    details:
      title: 'Experiment duration by number of Replicas'
      xAxisTitle: 'Number of Replicas'
      yAxisTitle: 'Duration'
    shadowPlot:
      style:
        label: 'Duration'
        pointStyle: triangle
        pointBorderColor: '#c45850'
        borderColor: '#c45850'
experiments:
  - 4rep: # this will be passed to as data_dir value in shadow.yaml
      misc:
        runahead: 630 us
        parallelism: 8
        useShortestPath: false
      plots:
        - name: throughputDemo
          metric: 'tps'
          label: 4
        - name: latencyDemo
          metric: 'latency'
          label: 4
        - name: cpuDemo-shadow
          metric: 'cpu-shadow'
          label: 4
        - name: memDemo-shadow
          metric: 'mem-shadow'
          label: 4
        - name: cpuDemo-app
          metric: 'cpu-app'
          label: 4
        - name: memDemo-app
          metric: 'mem-app'
          label: 4
        - name: memDemo-host
          metric: 'mem-host'
          label: 4
        - name: elapsedDemo
          metric: elapsed
          label: 4
      network:
        bandwidthUp: 10 Gbit # does not apply to clients (for now)
        bandwidthDown: 10 Gbit # does not apply to clients (for now)
        latency:
          uniform: true
          replicas: 10000 us
          clients: 700 us
      replica: # should be validated by connectors (currently not done, they are passed as-is)
        replicas: 4
        blockSize: 400
        replySize: 128
      client:
        numberOfHosts: 2
        clients: 4
        startTime: 60 s
        outStandingPerClient: 1400
        requestSize: 128
